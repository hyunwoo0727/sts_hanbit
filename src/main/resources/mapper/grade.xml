<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.grade">
	<select id="findByPk" parameterType="int" resultType="com.hanbit.web.grade.GradeVO">
		SELECT SEQ,GRADE,JAVA,SQL,HTML,JAVASCRIPT,ID,EXAM_DATE AS EXAMDATE FROM GRADE WHERE SEQ=#{seq}
	</select>
	<select id="selectAll" resultType="com.hanbit.web.grade.GradeVO">
		SELECT SEQ,GRADE,JAVA,SQL,HTML,JAVASCRIPT,ID,EXAM_DATE AS EXAMDATE FROM GRADE
	</select>
	<insert id="insert" parameterType="com.hanbit.web.grade.GradeVO">
		INSERT INTO GRADE(SEQ,GRADE,JAVA,SQL,HTML,JAVASCRIPT,ID,EXAM_DATE) VALUES(SEQ.NEXTVAL,#{grade},#{java},#{sql},#{html},#{javascript},#{id},#{examDate})
	</insert>
	<update id="update" parameterType="hashMap">
		UPDATE GRADE SET 
		<choose>
			<when test='subject.equalsIgnoreCase("java")'>
				JAVA=
			</when>
			<when test='subject.equalsIgnoreCase("SQL")'>
				SQL=
			</when>
			<when test='subject.equalsIgnoreCase("HTML")'>
				HTML=
			</when>
			<otherwise>
				JAVASCRIPT=
			</otherwise>
		</choose>
		#{score} WHERE SEQ=#{seq}
	</update>
	<delete id="delete" parameterType="int">
		DELETE FROM GRADE WHERE SEQ=#{seq}
	</delete>
</mapper>
